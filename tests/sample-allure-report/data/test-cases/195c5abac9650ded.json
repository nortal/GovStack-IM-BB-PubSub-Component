{"uid":"195c5abac9650ded","name":"Given: an event type; When: a message missing 'content'; Then: publish fails with 'Invalid data for publishing event'","fullName":"com.govstack.information_mediator.pubsub.api.messaging.PublishTests.Given: an event type; When: a message missing '#missingField'; Then: publish fails with 'Invalid data for publishing event'","historyId":"d3a81ee2d27b002bae737ad579695ae","time":{"start":1697105222102,"stop":1697105222293,"duration":191},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"given: an event type","time":{"start":1697105222167,"stop":1697105222167,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"when: message with a problem is published","time":{"start":1697105222167,"stop":1697105222167,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"POST /rooms/SANDBOX:ORG:TEST:PUBLISHER-018b235a-99d6-74a0-b934-7c3942347715/room-018b235a-99d6-74a0-b934-7c3942347715/publish","time":{"start":1697105222167,"stop":1697105222201,"duration":34},"status":"passed","steps":[{"name":"POST /rooms/SANDBOX:ORG:TEST:PUBLISHER-018b235a-99d6-74a0-b934-7c3942347715/room-018b235a-99d6-74a0-b934-7c3942347715/publish","time":{"start":1697105222168,"stop":1697105222201,"duration":33},"status":"passed","steps":[],"attachments":[{"uid":"18551a7742d955fe","name":"Request","source":"18551a7742d955fe.html","type":"text/html","size":846},{"uid":"84e1851ecbbbf3a1","name":"HTTP/1.1 400 Bad Request","source":"84e1851ecbbbf3a1.html","type":"text/html","size":577}],"parameters":[{"name":"memberId","value":"SANDBOX:ORG:TEST:PUBLISHER-018b235a-99d6-74a0-b934-7c3942347715"},{"name":"roomId","value":"room-018b235a-99d6-74a0-b934-7c3942347715"},{"name":"message","value":"{}"},{"name":"header","value":"X-Road-Client=SANDBOX:ORG:TEST:PUBLISHER-018b235a-99d6-74a0-b934-7c3942347715"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":0}],"attachments":[],"parameters":[{"name":"memberId","value":"SANDBOX:ORG:TEST:PUBLISHER-018b235a-99d6-74a0-b934-7c3942347715"},{"name":"roomId","value":"room-018b235a-99d6-74a0-b934-7c3942347715"},{"name":"message","value":"{}"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":1},{"name":"then: publish fails","time":{"start":1697105222201,"stop":1697105222201,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"and: no events created","time":{"start":1697105222289,"stop":1697105222289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"DB results","time":{"start":1697105222289,"stop":1697105222293,"duration":4},"status":"passed","steps":[{"name":"DB query","time":{"start":1697105222289,"stop":1697105222292,"duration":3},"status":"passed","steps":[{"name":"Executing SQL query:\n SELECT *\nFROM EVENTS\nWHERE room_id = '018b235a-99f8-7cc3-a406-9413229fac09'\n  AND event_type_version_id = '018b235a-9a04-758f-9d50-54f91cc49e63'\n  AND event_type_id = '018b235a-99ff-74d8-b2a4-ea4181994b12'\n  AND publisher_id = '018b235a-9a0a-790b-8de7-b2750b531c98'","time":{"start":1697105222289,"stop":1697105222289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"SELECT *\nFROM EVENTS\nWHERE room_id = '018b235a-99f8-7cc3-a406-9413229fac09'\n  AND event_type_version_id = '018b235a-9a04-758f-9d50-54f91cc49e63'\n  AND event_type_id = '018b235a-99ff-74d8-b2a4-ea4181994b12'\n  AND publisher_id = '018b235a-9a0a-790b-8de7-b2750b531c98'"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@51622450"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"Got rows(0):","time":{"start":1697105222293,"stop":1697105222293,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"SELECT *\nFROM EVENTS\nWHERE room_id = '018b235a-99f8-7cc3-a406-9413229fac09'\n  AND event_type_version_id = '018b235a-9a04-758f-9d50-54f91cc49e63'\n  AND event_type_id = '018b235a-99ff-74d8-b2a4-ea4181994b12'\n  AND publisher_id = '018b235a-9a0a-790b-8de7-b2750b531c98'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":3},{"name":"where","time":{"start":1697105222293,"stop":1697105222293,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":11},"afterStages":[],"labels":[{"name":"package","value":"com.govstack.information_mediator.pubsub.api.messaging"},{"name":"testClass","value":"com.govstack.information_mediator.pubsub.api.messaging.PublishTests"},{"name":"testMethod","value":"Given: an event type; When: a message missing 'content'; Then: publish fails with 'Invalid data for publishing event'"},{"name":"suite","value":"PublishTests"},{"name":"host","value":"lenovo1765"},{"name":"thread","value":"28024@lenovo1765.Test worker(1)"},{"name":"framework","value":"spock"},{"name":"language","value":"java"},{"name":"parentSuite","value":"GenericSpecification"},{"name":"story","value":"UC6.1 - Unsuccessful publish"},{"name":"epic","value":"Messaging-api"},{"name":"feature","value":"POST /rooms/{memberId}/{roomId}/publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"missingField","value":"content"}],"links":[{"name":"UC6.1","type":"tms"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"195c5abac9650ded.json","parameterValues":["content"]}