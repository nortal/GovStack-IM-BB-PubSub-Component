{"uid":"3f3d15ed722e970e","name":"Given: an active room with event type and an active PUSH subscription; When: member subscribes 2nd time with a different pushUrl; Then: subscribe succeeds and correct data is saved","fullName":"com.govstack.information_mediator.pubsub.api.management.subscriptions.SubscribeTests.Given: an active room with event type and an active PUSH subscription; When: member subscribes 2nd time with a different pushUrl; Then: subscribe succeeds and correct data is saved","historyId":"6308d200d2e7c1873612a0f9ae62c97e","time":{"start":1697105205886,"stop":1697105206106,"duration":220},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"given: an active room with event type and an active PUSH subscription","time":{"start":1697105205945,"stop":1697105205945,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"POST /rooms/subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f/room-018b235a-5a7e-72d9-97c5-55d5202d1a9f/subscriptions","time":{"start":1697105205947,"stop":1697105206002,"duration":55},"status":"passed","steps":[{"name":"POST /rooms/subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f/room-018b235a-5a7e-72d9-97c5-55d5202d1a9f/subscriptions","time":{"start":1697105205947,"stop":1697105206002,"duration":55},"status":"passed","steps":[],"attachments":[{"uid":"9cf84d43d9d41ff5","name":"Request","source":"9cf84d43d9d41ff5.html","type":"text/html","size":1220},{"uid":"c43e9840a6d95d51","name":"HTTP/1.1 200 ","source":"c43e9840a6d95d51.html","type":"text/html","size":789}],"parameters":[{"name":"memberId","value":"subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f"},{"name":"roomId","value":"room-018b235a-5a7e-72d9-97c5-55d5202d1a9f"},{"name":"body","value":"{method=PUSH, pushUrl=http://wiremock:8080/018b235a-5aba-7c65-9ca8-8132ed4577ee, eventType=EVENT-018b235a-5a7e-72d9-97c5-55d5202d1a9f}"},{"name":"header","value":"X-Road-Client=subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":0}],"attachments":[],"parameters":[{"name":"memberId","value":"subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f"},{"name":"roomId","value":"room-018b235a-5a7e-72d9-97c5-55d5202d1a9f"},{"name":"body","value":"{method=PUSH, pushUrl=http://wiremock:8080/018b235a-5aba-7c65-9ca8-8132ed4577ee, eventType=EVENT-018b235a-5a7e-72d9-97c5-55d5202d1a9f}"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":1},{"name":"when: member subscribes 2nd time with a different pushUrl","time":{"start":1697105206004,"stop":1697105206004,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"POST /rooms/subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f/room-018b235a-5a7e-72d9-97c5-55d5202d1a9f/subscriptions","time":{"start":1697105206007,"stop":1697105206061,"duration":54},"status":"passed","steps":[{"name":"POST /rooms/subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f/room-018b235a-5a7e-72d9-97c5-55d5202d1a9f/subscriptions","time":{"start":1697105206007,"stop":1697105206061,"duration":54},"status":"passed","steps":[],"attachments":[{"uid":"ffda4ece639601bb","name":"Request","source":"ffda4ece639601bb.html","type":"text/html","size":1220},{"uid":"2c610ac9ee98af9f","name":"HTTP/1.1 200 ","source":"2c610ac9ee98af9f.html","type":"text/html","size":789}],"parameters":[{"name":"memberId","value":"subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f"},{"name":"roomId","value":"room-018b235a-5a7e-72d9-97c5-55d5202d1a9f"},{"name":"body","value":"{method=PUSH, pushUrl=http://wiremock:8080/018b235a-5af4-76c2-83e6-b965c1560692, eventType=EVENT-018b235a-5a7e-72d9-97c5-55d5202d1a9f}"},{"name":"header","value":"X-Road-Client=subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":0}],"attachments":[],"parameters":[{"name":"memberId","value":"subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f"},{"name":"roomId","value":"room-018b235a-5a7e-72d9-97c5-55d5202d1a9f"},{"name":"body","value":"{method=PUSH, pushUrl=http://wiremock:8080/018b235a-5af4-76c2-83e6-b965c1560692, eventType=EVENT-018b235a-5a7e-72d9-97c5-55d5202d1a9f}"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":1},{"name":"then: subscribe succeeds","time":{"start":1697105206063,"stop":1697105206063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"and: correct data is saved","time":{"start":1697105206064,"stop":1697105206064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"DB results","time":{"start":1697105206088,"stop":1697105206100,"duration":12},"status":"passed","steps":[{"name":"DB query","time":{"start":1697105206088,"stop":1697105206100,"duration":12},"status":"passed","steps":[{"name":"Executing SQL query:\n SELECT *\nFROM subscriptions \nWHERE id = '018b235a-5b1a-7cc7-a676-15fcdd56b10e'","time":{"start":1697105206088,"stop":1697105206088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"SELECT *\nFROM subscriptions \nWHERE id = '018b235a-5b1a-7cc7-a676-15fcdd56b10e'"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@2a4cf2d1"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"Got rows(1):","time":{"start":1697105206100,"stop":1697105206100,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"[id:018b235a-5b1a-7cc7-a676-15fcdd56b10e, room_id:018b235a-5aa5-72ae-86fb-c096de10a22c, event_type_id:018b235a-5aab-79c3-b7c2-da1300063904, identifier_type:XROAD, identifier:subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f, parameters:{\"method\": \"PUSH\", \"pushUrl\": \"http://wiremock:8080/018b235a-5af4-76c2-83e6-b965c1560692\"}, journal:[{\"at\": \"2023-10-12T10:06:46.042805400Z\", \"by\": \"subscription-018b235a-5a7e-72d9-97c5-55d5202d1a9f\", \"action\": \"CREATED\"}], deleted_at:null]","time":{"start":1697105206100,"stop":1697105206100,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"SELECT *\nFROM subscriptions \nWHERE id = '018b235a-5b1a-7cc7-a676-15fcdd56b10e'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":4}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"stepsCount":13},"afterStages":[],"labels":[{"name":"package","value":"com.govstack.information_mediator.pubsub.api.management.subscriptions"},{"name":"testClass","value":"com.govstack.information_mediator.pubsub.api.management.subscriptions.SubscribeTests"},{"name":"testMethod","value":"Given: an active room with event type and an active PUSH subscription; When: member subscribes 2nd time with a different pushUrl; Then: subscribe succeeds and correct data is saved"},{"name":"suite","value":"SubscribeTests"},{"name":"host","value":"lenovo1765"},{"name":"thread","value":"28024@lenovo1765.Test worker(1)"},{"name":"framework","value":"spock"},{"name":"language","value":"java"},{"name":"parentSuite","value":"GenericSpecification"},{"name":"story","value":"UC4.1 - Successful subscribe"},{"name":"feature","value":"POST /rooms/{memberId}/{roomId}/subscriptions"},{"name":"epic","value":"Management-api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"UC4.1","type":"tms"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"3f3d15ed722e970e.json","parameterValues":[]}