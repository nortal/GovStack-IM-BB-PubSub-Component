{"uid":"1276830e61550642","name":"Given: a member with subscriptions in different statuses in a room; When: member lists their status=null subscriptions; Then: listing of subscription succeeds and all subscriptions are returned","fullName":"com.govstack.information_mediator.pubsub.api.management.subscriptions.ListSubscriptionsTests.Given: a member with subscriptions in different statuses in a room; When: member lists their status=#status subscriptions; Then: listing of subscription succeeds and #returnedStatus subscriptions are returned","historyId":"b0d1a9d925a6bea1a455dc311421b990","time":{"start":1697105200290,"stop":1697105201464,"duration":1174},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"given: a member with subscriptions in different statuses in a room","time":{"start":1697105200348,"stop":1697105200348,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"DB query","time":{"start":1697105200349,"stop":1697105200355,"duration":6},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscriptions (id, room_id, event_type_id, identifier_type, identifier, parameters, journal, deleted_at) VALUES ('018b235a-44dd-7557-9c13-51020c4c2f82', '018b235a-44c9-776f-920d-d533670c3fb9', '018b235a-44cf-76c3-81f7-eeda16d057b9', 'XROAD', 'SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e', '{\"method\":\"PUSH\",\"pushUrl\":\"http://wiremock:8080/018b235a-44dc-7e41-b176-babf647b7f9d\"}', '[{\"at\": \"2023-10-12T10:06:40.349865200Z\", \"by\": \"TESTS\", \"action\": \"CREATED\"}]', NULL)","time":{"start":1697105200349,"stop":1697105200349,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscriptions (id, room_id, event_type_id, identifier_type, identifier, parameters, journal, deleted_at) VALUES ('018b235a-44dd-7557-9c13-51020c4c2f82', '018b235a-44c9-776f-920d-d533670c3fb9', '018b235a-44cf-76c3-81f7-eeda16d057b9', 'XROAD', 'SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e', '{\"method\":\"PUSH\",\"pushUrl\":\"http://wiremock:8080/018b235a-44dc-7e41-b176-babf647b7f9d\"}', '[{\"at\": \"2023-10-12T10:06:40.349865200Z\", \"by\": \"TESTS\", \"action\": \"CREATED\"}]', NULL)"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@3cac962e"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200355,"stop":1697105200360,"duration":5},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-44e3-755e-a9c5-9cf2043095d8', '018b235a-44dd-7557-9c13-51020c4c2f82', 'PENDING', now())","time":{"start":1697105200355,"stop":1697105200355,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-44e3-755e-a9c5-9cf2043095d8', '018b235a-44dd-7557-9c13-51020c4c2f82', 'PENDING', now())"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@4baca539"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200361,"stop":1697105200365,"duration":4},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscriptions (id, room_id, event_type_id, identifier_type, identifier, parameters, journal, deleted_at) VALUES ('018b235a-44e8-7813-9708-f435f27adfaf', '018b235a-44c9-776f-920d-d533670c3fb9', '018b235a-44cf-76c3-81f7-eeda16d057b9', 'XROAD', 'SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e', '{\"method\":\"PUSH\",\"pushUrl\":\"http://wiremock:8080/018b235a-44e8-7cb9-8135-1af35d7c04e6\"}', '[{\"at\": \"2023-10-12T10:06:40.360825600Z\", \"by\": \"TESTS\", \"action\": \"CREATED\"}]', NULL)","time":{"start":1697105200361,"stop":1697105200361,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscriptions (id, room_id, event_type_id, identifier_type, identifier, parameters, journal, deleted_at) VALUES ('018b235a-44e8-7813-9708-f435f27adfaf', '018b235a-44c9-776f-920d-d533670c3fb9', '018b235a-44cf-76c3-81f7-eeda16d057b9', 'XROAD', 'SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e', '{\"method\":\"PUSH\",\"pushUrl\":\"http://wiremock:8080/018b235a-44e8-7cb9-8135-1af35d7c04e6\"}', '[{\"at\": \"2023-10-12T10:06:40.360825600Z\", \"by\": \"TESTS\", \"action\": \"CREATED\"}]', NULL)"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@5ada5fd3"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200366,"stop":1697105200370,"duration":4},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-44ed-741a-bbbc-5fe32f6b53da', '018b235a-44e8-7813-9708-f435f27adfaf', 'PENDING', now())","time":{"start":1697105200366,"stop":1697105200366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-44ed-741a-bbbc-5fe32f6b53da', '018b235a-44e8-7813-9708-f435f27adfaf', 'PENDING', now())"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@4d36c8cb"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200370,"stop":1697105200374,"duration":4},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-44f2-7876-ad87-b366dd64b3ec', '018b235a-44e8-7813-9708-f435f27adfaf', 'ACTIVE', now())","time":{"start":1697105200370,"stop":1697105200370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-44f2-7876-ad87-b366dd64b3ec', '018b235a-44e8-7813-9708-f435f27adfaf', 'ACTIVE', now())"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@15733aa5"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200375,"stop":1697105200379,"duration":4},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscriptions (id, room_id, event_type_id, identifier_type, identifier, parameters, journal, deleted_at) VALUES ('018b235a-44f6-7383-9792-f55494b85ab0', '018b235a-44c9-776f-920d-d533670c3fb9', '018b235a-44cf-76c3-81f7-eeda16d057b9', 'XROAD', 'SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e', '{\"method\":\"PUSH\",\"pushUrl\":\"http://wiremock:8080/018b235a-44f6-72e6-be4b-e12ccf005bee\"}', '[{\"at\": \"2023-10-12T10:06:40.374683200Z\", \"by\": \"TESTS\", \"action\": \"CREATED\"}]', NULL)","time":{"start":1697105200375,"stop":1697105200375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscriptions (id, room_id, event_type_id, identifier_type, identifier, parameters, journal, deleted_at) VALUES ('018b235a-44f6-7383-9792-f55494b85ab0', '018b235a-44c9-776f-920d-d533670c3fb9', '018b235a-44cf-76c3-81f7-eeda16d057b9', 'XROAD', 'SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e', '{\"method\":\"PUSH\",\"pushUrl\":\"http://wiremock:8080/018b235a-44f6-72e6-be4b-e12ccf005bee\"}', '[{\"at\": \"2023-10-12T10:06:40.374683200Z\", \"by\": \"TESTS\", \"action\": \"CREATED\"}]', NULL)"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@3b58d05f"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200379,"stop":1697105200384,"duration":5},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-44fb-7d22-90fb-67c830aa6618', '018b235a-44f6-7383-9792-f55494b85ab0', 'PENDING', now())","time":{"start":1697105200380,"stop":1697105200380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-44fb-7d22-90fb-67c830aa6618', '018b235a-44f6-7383-9792-f55494b85ab0', 'PENDING', now())"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@33f42420"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200384,"stop":1697105200388,"duration":4},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-4500-73e4-86f0-1d3175a8bcce', '018b235a-44f6-7383-9792-f55494b85ab0', 'ACTIVE', now())","time":{"start":1697105200384,"stop":1697105200384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-4500-73e4-86f0-1d3175a8bcce', '018b235a-44f6-7383-9792-f55494b85ab0', 'ACTIVE', now())"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@487fc205"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200389,"stop":1697105200394,"duration":5},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-4505-70f7-9719-cc1b7a1d7e8f', '018b235a-44f6-7383-9792-f55494b85ab0', 'TERMINATED', now())","time":{"start":1697105200389,"stop":1697105200389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-4505-70f7-9719-cc1b7a1d7e8f', '018b235a-44f6-7383-9792-f55494b85ab0', 'TERMINATED', now())"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@44556fbd"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200395,"stop":1697105200400,"duration":5},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscriptions (id, room_id, event_type_id, identifier_type, identifier, parameters, journal, deleted_at) VALUES ('018b235a-450b-7206-b190-c83e31934190', '018b235a-44c9-776f-920d-d533670c3fb9', '018b235a-44cf-76c3-81f7-eeda16d057b9', 'XROAD', 'SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e', '{\"method\":\"PUSH\",\"pushUrl\":\"http://wiremock:8080/018b235a-450a-74da-a81c-796d29e36514\"}', '[{\"at\": \"2023-10-12T10:06:40.395830100Z\", \"by\": \"TESTS\", \"action\": \"CREATED\"}]', NULL)","time":{"start":1697105200395,"stop":1697105200395,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscriptions (id, room_id, event_type_id, identifier_type, identifier, parameters, journal, deleted_at) VALUES ('018b235a-450b-7206-b190-c83e31934190', '018b235a-44c9-776f-920d-d533670c3fb9', '018b235a-44cf-76c3-81f7-eeda16d057b9', 'XROAD', 'SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e', '{\"method\":\"PUSH\",\"pushUrl\":\"http://wiremock:8080/018b235a-450a-74da-a81c-796d29e36514\"}', '[{\"at\": \"2023-10-12T10:06:40.395830100Z\", \"by\": \"TESTS\", \"action\": \"CREATED\"}]', NULL)"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@39f29540"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200401,"stop":1697105200408,"duration":7},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-4510-7c82-877a-661f21815102', '018b235a-450b-7206-b190-c83e31934190', 'PENDING', now())","time":{"start":1697105200401,"stop":1697105200401,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-4510-7c82-877a-661f21815102', '018b235a-450b-7206-b190-c83e31934190', 'PENDING', now())"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@2bb5637a"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"DB query","time":{"start":1697105200408,"stop":1697105200412,"duration":4},"status":"passed","steps":[{"name":"Executing SQL query:\n INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-4518-7a25-bb65-039b28abead7', '018b235a-450b-7206-b190-c83e31934190', 'REJECTED', now())","time":{"start":1697105200408,"stop":1697105200408,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"INSERT INTO subscription_status (id, subscription_id, status, updated_at) VALUES ('018b235a-4518-7a25-bb65-039b28abead7', '018b235a-450b-7206-b190-c83e31934190', 'REJECTED', now())"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@1decf3e3"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"when: member lists their subscriptions","time":{"start":1697105200413,"stop":1697105200413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"GET /rooms/SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e/room-018b235a-44a2-75d4-bf14-2f42824d9e7e/subscriptions","time":{"start":1697105200414,"stop":1697105200494,"duration":80},"status":"passed","steps":[{"name":"GET /rooms/SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e/room-018b235a-44a2-75d4-bf14-2f42824d9e7e/subscriptions","time":{"start":1697105200414,"stop":1697105200494,"duration":80},"status":"passed","steps":[],"attachments":[{"uid":"42988c6888b0e635","name":"Request","source":"42988c6888b0e635.html","type":"text/html","size":757},{"uid":"fe4c12e15207948c","name":"HTTP/1.1 200 ","source":"fe4c12e15207948c.html","type":"text/html","size":3301}],"parameters":[{"name":"memberId","value":"SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e"},{"name":"roomId","value":"room-018b235a-44a2-75d4-bf14-2f42824d9e7e"},{"name":"status","value":"null"},{"name":"header","value":"X-Road-Client=SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":0}],"attachments":[],"parameters":[{"name":"memberId","value":"SANDBOX:ORG:TEST:SUBSCRIBER-018b235a-44a2-75d4-bf14-2f42824d9e7e"},{"name":"roomId","value":"room-018b235a-44a2-75d4-bf14-2f42824d9e7e"},{"name":"status","value":"null"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":1},{"name":"then: listing of subscription succeeds","time":{"start":1697105200495,"stop":1697105200495,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"and: correct subscriptions are returned","time":{"start":1697105200495,"stop":1697105200495,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"where","time":{"start":1697105201464,"stop":1697105201464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":31},"afterStages":[],"labels":[{"name":"package","value":"com.govstack.information_mediator.pubsub.api.management.subscriptions"},{"name":"testClass","value":"com.govstack.information_mediator.pubsub.api.management.subscriptions.ListSubscriptionsTests"},{"name":"testMethod","value":"Given: a member with subscriptions in different statuses in a room; When: member lists their status=null subscriptions; Then: listing of subscription succeeds and all subscriptions are returned"},{"name":"suite","value":"ListSubscriptionsTests"},{"name":"host","value":"lenovo1765"},{"name":"thread","value":"28024@lenovo1765.Test worker(1)"},{"name":"framework","value":"spock"},{"name":"language","value":"java"},{"name":"parentSuite","value":"GenericSpecification"},{"name":"story","value":"UC4.2 - Successful subscriptions listing"},{"name":"epic","value":"Management-api"},{"name":"feature","value":"GET /rooms/{memberId}/{roomId}/subscriptions"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"returnedStatus","value":"all"},{"name":"returnedSubscriptionsCount","value":"4"},{"name":"status","value":"null"}],"links":[{"name":"UC4.2","type":"tms"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"1276830e61550642.json","parameterValues":["all","4","null"]}