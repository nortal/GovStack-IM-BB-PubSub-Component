{"uid":"52e7f32f0df44ec8","name":"Given: an active room with event type; When: member subscribes with data: [method:PUSH, pushUrl:https://host/url, deliveryDelay:100, deliveryDelayMultiplier:10.0, deliveryAttempts:100]; Then: subscribe succeeds and correct data is saved","fullName":"com.govstack.information_mediator.pubsub.api.management.subscriptions.SubscribeTests.Given: an active room with event type; When: member subscribes with data: #sentData; Then: subscribe succeeds and correct data is saved","historyId":"6720e9dbc1e0e740308d56f026fe8c88","time":{"start":1697105205726,"stop":1697105205879,"duration":153},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"given: an active room with event type","time":{"start":1697105205782,"stop":1697105205782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"when: member subscribes with data","time":{"start":1697105205782,"stop":1697105205782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"POST /rooms/subscription-018b235a-59df-7902-ac7d-bda158e5c709/room-018b235a-59df-7902-ac7d-bda158e5c709/subscriptions","time":{"start":1697105205783,"stop":1697105205841,"duration":58},"status":"passed","steps":[{"name":"POST /rooms/subscription-018b235a-59df-7902-ac7d-bda158e5c709/room-018b235a-59df-7902-ac7d-bda158e5c709/subscriptions","time":{"start":1697105205783,"stop":1697105205841,"duration":58},"status":"passed","steps":[],"attachments":[{"uid":"b9dc3cf87ed35102","name":"Request","source":"b9dc3cf87ed35102.html","type":"text/html","size":1382},{"uid":"7c2057cfcc85cefc","name":"HTTP/1.1 200 ","source":"7c2057cfcc85cefc.html","type":"text/html","size":789}],"parameters":[{"name":"memberId","value":"subscription-018b235a-59df-7902-ac7d-bda158e5c709"},{"name":"roomId","value":"room-018b235a-59df-7902-ac7d-bda158e5c709"},{"name":"body","value":"{method=PUSH, pushUrl=https://host/url, deliveryDelay=100, deliveryDelayMultiplier=10.0, deliveryAttempts=100, eventType=EVENT-018b235a-59df-7902-ac7d-bda158e5c709}"},{"name":"header","value":"X-Road-Client=subscription-018b235a-59df-7902-ac7d-bda158e5c709"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":0}],"attachments":[],"parameters":[{"name":"memberId","value":"subscription-018b235a-59df-7902-ac7d-bda158e5c709"},{"name":"roomId","value":"room-018b235a-59df-7902-ac7d-bda158e5c709"},{"name":"body","value":"{method=PUSH, pushUrl=https://host/url, deliveryDelay=100, deliveryDelayMultiplier=10.0, deliveryAttempts=100, eventType=EVENT-018b235a-59df-7902-ac7d-bda158e5c709}"}],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":1},{"name":"then: subscribe succeeds","time":{"start":1697105205841,"stop":1697105205841,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"and: correct data is saved","time":{"start":1697105205841,"stop":1697105205842,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"DB results","time":{"start":1697105205864,"stop":1697105205878,"duration":14},"status":"passed","steps":[{"name":"DB query","time":{"start":1697105205865,"stop":1697105205877,"duration":12},"status":"passed","steps":[{"name":"Executing SQL query:\n SELECT *\nFROM subscriptions \nWHERE id = '018b235a-5a3b-75e2-9ce6-f36ed426610e'","time":{"start":1697105205865,"stop":1697105205865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"SELECT *\nFROM subscriptions \nWHERE id = '018b235a-5a3b-75e2-9ce6-f36ed426610e'"},{"name":"executionMethod","value":"org.codehaus.groovy.runtime.MethodClosure@75c3957d"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":1},{"name":"Got rows(1):","time":{"start":1697105205877,"stop":1697105205877,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"[id:018b235a-5a3b-75e2-9ce6-f36ed426610e, room_id:018b235a-5a02-7be2-8a9d-0f356761335e, event_type_id:018b235a-5a09-77b1-b576-0b82907a5340, identifier_type:XROAD, identifier:subscription-018b235a-59df-7902-ac7d-bda158e5c709, parameters:{\"method\": \"PUSH\", \"pushUrl\": \"https://host/url\", \"deliveryDelay\": 100, \"deliveryAttempts\": 100, \"deliveryDelayMultiplier\": 10.0}, journal:[{\"at\": \"2023-10-12T10:06:45.819521200Z\", \"by\": \"subscription-018b235a-59df-7902-ac7d-bda158e5c709\", \"action\": \"CREATED\"}], deleted_at:null]","time":{"start":1697105205878,"stop":1697105205878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"query","value":"SELECT *\nFROM subscriptions \nWHERE id = '018b235a-5a3b-75e2-9ce6-f36ed426610e'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":4},{"name":"where","time":{"start":1697105205879,"stop":1697105205879,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"stepsCount":12},"afterStages":[],"labels":[{"name":"package","value":"com.govstack.information_mediator.pubsub.api.management.subscriptions"},{"name":"testClass","value":"com.govstack.information_mediator.pubsub.api.management.subscriptions.SubscribeTests"},{"name":"testMethod","value":"Given: an active room with event type; When: member subscribes with data: [method:PUSH, pushUrl:https://host/url, deliveryDelay:100, deliveryDelayMultiplier:10.0, deliveryAttempts:100]; Then: subscribe succeeds and correct data is saved"},{"name":"suite","value":"SubscribeTests"},{"name":"host","value":"lenovo1765"},{"name":"thread","value":"28024@lenovo1765.Test worker(1)"},{"name":"framework","value":"spock"},{"name":"language","value":"java"},{"name":"parentSuite","value":"GenericSpecification"},{"name":"story","value":"UC4.1 - Successful subscribe"},{"name":"feature","value":"POST /rooms/{memberId}/{roomId}/subscriptions"},{"name":"epic","value":"Management-api"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"savedData","value":"{method=PUSH, pushUrl=https://host/url, deliveryDelay=100, deliveryDelayMultiplier=10.0, deliveryAttempts=100}"},{"name":"sentData","value":"{method=PUSH, pushUrl=https://host/url, deliveryDelay=100, deliveryDelayMultiplier=10.0, deliveryAttempts=100}"}],"links":[{"name":"UC4.1","type":"tms"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"52e7f32f0df44ec8.json","parameterValues":["{method=PUSH, pushUrl=https://host/url, deliveryDelay=100, deliveryDelayMultiplier=10.0, deliveryAttempts=100}","{method=PUSH, pushUrl=https://host/url, deliveryDelay=100, deliveryDelayMultiplier=10.0, deliveryAttempts=100}"]}